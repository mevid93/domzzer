(this["webpackJsonpdomzzer-master-frontend"]=this["webpackJsonpdomzzer-master-frontend"]||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),i=n.n(a),c=n(79),s=n(7),o=n(15),l=n(9),u=n(18),d=n(209),j=n(1),b=function(){var e=Object(s.c)((function(e){return e.infoMsg}));return Object(j.jsx)("div",{children:null!==e&&void 0!==e&&Object(j.jsx)(d.a,{variant:"filled",severity:"success",children:e})})},h=function(){var e=Object(s.c)((function(e){return e.errorMsg}));return Object(j.jsx)("div",{children:null!==e&&void 0!==e&&Object(j.jsx)(d.a,{variant:"filled",severity:"error",children:e})})},f=n(75),O=n.n(f),g=n(101),m=function(e){return{type:"SET_USER",user:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"RESET_USER":return null;default:return e}},p=function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR_MESSAGE":return void 0===t.errorMsg?null:t.errorMsg;default:return e}},S=function(e){return{type:"SET_INFO_MESSAGE",infoMsg:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INFO_MESSAGE":return void 0===t.infoMsg?null:t.infoMsg;default:return e}},w=function(){var e=Object(s.b)();return{showErrorMessage:function(t){null!==t&&void 0!==t&&(e(p(t)),setTimeout((function(){e(p(null))}),5e3))},showInfoMessage:function(t){null!==t&&void 0!==t&&(e(S(t)),setTimeout((function(){e(S(null))}),5e3))}}},E=n(14),I=n.n(E),T=null,C={getInfo:function(){var e={headers:{Authorization:T}};return I.a.get("/api/info",e).then((function(e){return e.data}))},setToken:function(e){T="bearer ".concat(e)}},N="/api/slaves",z=null,A={getAll:function(){var e={headers:{Authorization:z}};return I.a.get(N,e).then((function(e){return e.data}))},getById:function(e){var t={headers:{Authorization:z}};return I.a.get("".concat(N,"/").concat(e),t).then((function(e){return e.data}))},create:function(e){var t={headers:{Authorization:z}};return I.a.post(N,e,t).then((function(e){return e.data}))},remove:function(e){var t={headers:{Authorization:z}};return I.a.delete("".concat(N,"/").concat(e),t).then((function(e){return e.data}))},update:function(e,t){var n={headers:{Authorization:z}};return I.a.put("".concat(N,"/").concat(e),t,n).then((function(e){return e.data}))},setToken:function(e){z="bearer ".concat(e)}},R="/api/users",M=null,L={getAll:function(){var e={headers:{Authorization:M}};return I.a.get(R,e).then((function(e){return e.data}))},getById:function(e){var t={headers:{Authorization:M}};return I.a.get("".concat(R,"/").concat(e),t).then((function(e){return e.data}))},create:function(e){var t={headers:{Authorization:M}};return I.a.post(R,e,t).then((function(e){return e.data}))},remove:function(e){var t={headers:{Authorization:M}};return I.a.delete("".concat(R,"/").concat(e),t).then((function(e){return e.data}))},update:function(e,t){var n={headers:{Authorization:M}};return I.a.put("".concat(R,"/").concat(e),t,n).then((function(e){return e.data}))},setToken:function(e){M="bearer ".concat(e)}},U="/api/vulnerabilities",D=null,k={getAll:function(){var e={headers:{Authorization:D}};return I.a.get(U,e).then((function(e){return e.data}))},getById:function(e){var t={headers:{Authorization:D}};return I.a.get("".concat(U,"/").concat(e),t).then((function(e){return e.data}))},remove:function(e){var t={headers:{Authorization:D}};return I.a.delete("".concat(U,"/").concat(e),t).then((function(e){return e.data}))},update:function(e,t){var n={headers:{Authorization:D}};return I.a.put("".concat(U,"/").concat(e),t,n).then((function(e){return e.data}))},setToken:function(e){D="bearer ".concat(e)}},W="/api/settings",P=null,_={get:function(){var e={headers:{Authorization:P}};return I.a.get(W,e).then((function(e){return e.data}))},update:function(e){var t={headers:{Authorization:P}};return I.a.put(W,e,t).then((function(e){return e.data}))},sendStartCommand:function(){var e={headers:{Authorization:P}};return I.a.post("".concat(W,"/start"),{},e).then((function(e){return e.data}))},sendStopCommand:function(){var e={headers:{Authorization:P}};return I.a.post("".concat(W,"/stop"),{},e).then((function(e){return e.data}))},setToken:function(e){P="bearer ".concat(e)}},B=function(){var e=function(e){C.setToken(e),A.setToken(e),L.setToken(e),k.setToken(e),_.setToken(e)};return{updateServicesWithToken:e,clearServicesFromToken:function(){e(null)}}},V=n(76),q=n.n(V),G=n(102),Y={login:function(){var e=Object(G.a)(q.a.mark((function e(t,n){var r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/api/login",{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},F=n(188),J=n(189),Z=n(105),H=n(215),K=n(193),Q=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),X=function(){var e=Object(s.b)(),t=Object(u.g)(),n=w(),a=B(),i=Q(),c=Object(r.useState)(""),o=Object(l.a)(c,2),d=o[0],b=o[1],h=Object(r.useState)(""),f=Object(l.a)(h,2),v=f[0],p=f[1],x=function(){var r=Object(g.a)(O.a.mark((function r(i){var c,s;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.preventDefault(),r.prev=1,r.next=4,Y.login(d,v);case 4:c=r.sent,window.localStorage.setItem("domzzerUser",JSON.stringify(c)),a.updateServicesWithToken(c.token),e(m(c)),n.showInfoMessage("Welcome, ".concat(c.username)),t.push("/"),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),s=r.t0.response.data.error||"Could not login. Server is likely offline!",n.showErrorMessage(s);case 16:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsxs)("div",{className:i.paper,children:[Object(j.jsx)(Z.a,{gutterBottom:!0,variant:"h3",children:"domzzer login"}),Object(j.jsxs)("form",{onSubmit:x,className:i.form,children:[Object(j.jsx)(H.a,{label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return b(e.target.value)},value:d}),Object(j.jsx)(H.a,{label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",onChange:function(e){return p(e.target.value)},value:v}),Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Log in"})]})]})})},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SERVER_INFO":return t.info;default:return e}},ee=n(194),te=n(195),ne=n(196),re=n(197),ae=n(198),ie=function(e){var t=e.serverInfo;return void 0===t||void 0===t.serverName?Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Server information not available!"})}):Object(j.jsx)(ee.a,{children:Object(j.jsx)(te.a,{"aria-label":"simple table",children:Object(j.jsxs)(ne.a,{children:[Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server name:"}),Object(j.jsx)(ae.a,{align:"left",children:t.serverName})]},"1"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server OS:"}),Object(j.jsx)(ae.a,{align:"left",children:t.serverType})]},"2"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server OS-version:"}),Object(j.jsx)(ae.a,{align:"left",children:t.serverVersion})]},"3"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server memory:"}),Object(j.jsx)(ae.a,{align:"left",children:t.serverMemoryMb})]},"4"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server date:"}),Object(j.jsx)(ae.a,{align:"left",children:t.serverDate})]},"5"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server uptime:"}),Object(j.jsx)(ae.a,{align:"left",children:t.serverUptime})]},"6"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Server controlled slave machines:"}),Object(j.jsx)(ae.a,{align:"left",children:t.numberOfSlaves})]},"7")]})})})},ce=function(e){var t=e.serverInfo;if(void 0===t||void 0===t.serverName)return Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Server information not available!"})});var n=t.numberOfTestsPerformed,r=t.numberOfPotentialVulnerabilities,a=void 0!==n&&0!==n?r/n:0;return Object(j.jsx)(ee.a,{children:Object(j.jsx)(te.a,{"aria-label":"simple table",children:Object(j.jsxs)(ne.a,{children:[Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Number of tests performed:"}),Object(j.jsx)(ae.a,{align:"right",children:n})]},"1"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Number of potential vulnerabilities found:"}),Object(j.jsx)(ae.a,{align:"right",children:r})]},"2"),Object(j.jsxs)(re.a,{children:[Object(j.jsx)(ae.a,{align:"left",children:"Potential vulnerabilities to tests ratio:"}),Object(j.jsx)(ae.a,{align:"right",children:a})]},"3")]})})})},se=function(){var e=w(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.serverInfo}));return Object(r.useEffect)((function(){C.getInfo().then((function(e){return t(function(e){return{type:"SET_SERVER_INFO",info:e}}(e))})).catch((function(t){var n=t.response.data.error||"Could not retrieve server information!";e.showErrorMessage(n)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Home"}),Object(j.jsx)("h3",{children:"Master Server Information"}),Object(j.jsx)(ie,{serverInfo:n}),Object(j.jsx)("br",{}),Object(j.jsx)("h3",{children:"Vulnerability Information"}),Object(j.jsx)(ce,{serverInfo:n})]})},oe=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),le=function(){var e=w(),t=oe(),n=Object(r.useState)(""),a=Object(l.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(""),o=Object(l.a)(s,2),u=o[0],d=o[1],b=Object(r.useState)(""),h=Object(l.a)(b,2),f=h[0],O=h[1],g=Object(r.useState)(""),m=Object(l.a)(g,2),v=m[0],p=m[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Slaves / New"}),Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsxs)("div",{className:t.paper,children:[Object(j.jsx)(Z.a,{gutterBottom:!0,variant:"h3",children:"Add New Slave"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:i,address:u,username:f,password:v};A.create(n).then((function(){e.showInfoMessage("Succesfully added new slave to database!"),c(""),d(""),O(""),p("")})).catch((function(t){var n=t.response.data.error||"Could not save slave data to server!";e.showErrorMessage(n)}))},className:t.form,children:[Object(j.jsx)(H.a,{label:"Name",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return c(e.target.value)},value:i}),Object(j.jsx)(H.a,{label:"Address",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return d(e.target.value)},value:u}),Object(j.jsx)(H.a,{label:"Username (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,onChange:function(e){return O(e.target.value)},value:f}),Object(j.jsx)(H.a,{label:"Password (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,type:"password",onChange:function(e){return p(e.target.value)},value:v}),Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Add"})]})]})})]})},ue=function(e){return{type:"SET_SLAVES",slaves:e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SLAVES":return t.slaves;case"INSERT_SLAVE":return e.find((function(e){return e.id===t.slave.id}))?e:e.concat(t.slave);default:return e}},je=n(19),be=n(5),he=Object(be.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(re.a),fe=Object(be.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ae.a),Oe=n(199),ge=n(211),me=function(e){var t=e.slaves,n=Object(r.useState)(0),a=Object(je.a)(n,2),i=a[0],c=a[1],s=10,l=s-Math.min(s,t.length-i*s);return Object(j.jsxs)(ee.a,{style:{marginTop:50},children:[Object(j.jsxs)(te.a,{"aria-label":"simple table",children:[Object(j.jsx)(Oe.a,{children:Object(j.jsxs)(he,{children:[Object(j.jsx)(fe,{children:"Server name"}),Object(j.jsx)(fe,{children:"Server address"}),Object(j.jsx)(fe,{children:"Server status"})]})}),Object(j.jsxs)(ne.a,{children:[t.slice(i*s,i*s+s).map((function(e){return Object(j.jsxs)(he,{children:[Object(j.jsx)(fe,{align:"left",children:Object(j.jsx)(o.b,{to:"/slaves/".concat(e.id),children:e.name})}),Object(j.jsx)(fe,{align:"left",children:e.address}),Object(j.jsx)(fe,{align:"left",children:e.status})]},e.id)})),l>0&&Object(j.jsx)(he,{style:{height:53*l},children:Object(j.jsx)(fe,{colSpan:6})})]})]}),Object(j.jsx)(ge.a,{rowsPerPageOptions:[10],component:"div",count:t.length,rowsPerPage:10,page:i,onChangePage:function(e,t){return c(t)}})]})},ve=n(201),pe=function(){var e=Object(s.b)(),t=w(),n=Object(r.useState)(""),a=Object(l.a)(n,2),i=a[0],c=a[1],u=Object(s.c)((function(e){return e.slaves})),d=Object(s.c)((function(e){return e.user})),b=u.filter((function(e){return!!e.name.toLowerCase().includes(i.toLowerCase())||(!!e.address.toLowerCase().includes(i.toLowerCase())||!!e.status.toLowerCase().includes(i.toLowerCase()))}));return Object(r.useEffect)((function(){A.getAll().then((function(t){return e(ue(t))})).catch((function(e){var n=e.response.data.error||"Could not retrieve slave data from server!";t.showErrorMessage(n)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Slaves"}),Object(j.jsxs)(ve.a,{container:!0,spacing:3,justify:"flex-start",children:[Object(j.jsx)(ve.a,{item:!0,xs:6,style:{marginTop:15,display:"flex",justifyContent:"flex-start"},children:Object(j.jsx)(H.a,{onChange:function(e){return c(e.target.value)},fullWidth:!0,value:i,placeholder:"filter by keyword"})}),null!==d&&"LITE"!==d.userRole&&Object(j.jsx)(ve.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)(K.a,{color:"primary",variant:"contained",component:o.b,to:"/slaves/new",children:"add new slave"})})]}),Object(j.jsx)(me,{slaves:b})]})},xe=n(212),Se=n(205),ye=n(203),we=n(204),Ee=n(202),Ie=function(e){var t=e.open,n=e.handleDialogYesAnswer,r=e.handleDialogNoAnswer;return Object(j.jsxs)(xe.a,{open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(j.jsx)(Ee.a,{id:"alert-dialog-title",children:"Delete record from database?"}),Object(j.jsx)(ye.a,{children:Object(j.jsx)(we.a,{id:"alert-dialog-description",children:"Are you sure you want to remove record from the database? This operation cannot be undone later."})}),Object(j.jsxs)(Se.a,{children:[Object(j.jsx)(K.a,{onClick:n,color:"primary",autoFocus:!0,children:"Yes"}),Object(j.jsx)(K.a,{onClick:r,color:"primary",children:"No"})]})]})},Te=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),Ce=function(e){var t=e.slave,n=Te(),a=w(),i=Object(s.b)(),c=Object(s.c)((function(e){return e.slaves})),o=Object(s.c)((function(e){return e.user})),u=Object(r.useState)(!1),d=Object(l.a)(u,2),b=d[0],h=d[1],f=Object(r.useState)(t.name),O=Object(l.a)(f,2),g=O[0],m=O[1],v=Object(r.useState)(t.address),p=Object(l.a)(v,2),x=p[0],S=p[1],y=Object(r.useState)(t.username||""),E=Object(l.a)(y,2),I=E[0],T=E[1],C=Object(r.useState)(t.password||""),N=Object(l.a)(C,2),z=N[0],R=N[1];return Object(j.jsxs)("div",{children:[b&&Object(j.jsx)(Z.a,{align:"center",gutterBottom:!0,variant:"h3",children:"Editing Slave"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:g,address:x,username:I,password:z};A.update(t.id,n).then((function(e){a.showInfoMessage("Slave data succesfully updated!");var t=c.map((function(t){return t.id===e.id?e:t}));i(ue(t)),h(!1)})).catch((function(e){var t=e.response.data.error||"Could not update slave data on server!";a.showErrorMessage(t)}))},className:n.form,children:[Object(j.jsx)(H.a,{label:"Name",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:g,disabled:!b,onChange:function(e){return m(e.target.value)}}),Object(j.jsx)(H.a,{label:"Address",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:x,disabled:!b,onChange:function(e){return S(e.target.value)}}),Object(j.jsx)(H.a,{label:"Username (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,value:I,disabled:!b,onChange:function(e){return T(e.target.value)}}),Object(j.jsx)(H.a,{label:"Password (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,type:"password",value:z,disabled:!b,onChange:function(e){return R(e.target.value)}}),b&&Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Save changes"})]}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(j.jsx)(ve.a,{item:!0,className:n.gridItem,xs:!0,children:"LITE"!==o.userRole&&Object(j.jsx)(K.a,{style:{marginTop:25},onClick:function(){h(!b),T(t.username||""),R(t.password||""),S(t.address),m(t.name)},color:"primary",variant:"contained",size:"large",children:!1===b?"Edit information":"Stop editing"})})})]})},Ne=Object(F.a)((function(e){return{root:{flexGrow:1},gridItem:{margin:e.spacing(3,0,2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),ze=function(){var e=Ne(),t=Object(u.g)(),n=Object(s.b)(),a=w(),i=Object(r.useState)(!1),c=Object(l.a)(i,2),o=c[0],d=c[1],b=Object(u.h)().id,h=Object(s.c)((function(e){return e.slaves})),f=Object(s.c)((function(e){return e.user})),O=h.find((function(e){return e.id===b}));Object(r.useEffect)((function(){A.getById(b).then((function(e){n(function(e){return{type:"INSERT_SLAVE",slave:e}}(e))})).catch((function(e){var t=e.response.data.error||"Could not retrieve slave data from server!";a.showErrorMessage(t)}))}),[]);return void 0===O?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"domzzer / Slaves / 404 (Slave not found) "})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["domzzer / Slaves / ",O.name," "]}),Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsx)("div",{className:e.paper,children:Object(j.jsx)(Ce,{slave:O})})}),null!==f&&"LITE"!==f.userRole&&Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(j.jsxs)(ve.a,{item:!0,xs:!0,children:[Object(j.jsx)(K.a,{style:{marginTop:25},color:"secondary",variant:"contained",size:"large",onClick:function(){return d(!0)},children:"Remove from database"}),Object(j.jsx)(Ie,{open:o,handleDialogYesAnswer:function(){d(!1),A.remove(b).then((function(){a.showInfoMessage("Slave data succesfully deleted!");var e=h.filter((function(e){return e.id!==b}));n(ue(e)),t.push("/slaves")})).catch((function(e){var t=e.response.data.error||"Could not delete slave data from server!";a.showErrorMessage(t)}))},handleDialogNoAnswer:function(){d(!1)}})]})})]})},Ae=function(e){return{type:"SET_VULNERABILITIES",vulnerabilities:e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VULNERABILITIES":return t.vulnerabilities;case"INSERT_VULNERABILITY":return e.find((function(e){return e.id===t.vulnerability.id}))?e:e.concat(t.vulnerability);default:return e}},Me=function(e){var t=e.vulnerabilities,n=Object(r.useState)(0),a=Object(je.a)(n,2),i=a[0],c=a[1],s=10,l=s-Math.min(s,t.length-i*s);return Object(j.jsxs)(ee.a,{style:{marginTop:50},children:[Object(j.jsxs)(te.a,{"aria-label":"simple table",children:[Object(j.jsx)(Oe.a,{children:Object(j.jsxs)(he,{children:[Object(j.jsx)(fe,{children:"ID"}),Object(j.jsx)(fe,{children:"Target browser"}),Object(j.jsx)(fe,{children:"Timestamp"}),Object(j.jsx)(fe,{children:"Status"})]})}),Object(j.jsxs)(ne.a,{children:[t.slice(i*s,i*s+s).map((function(e){return Object(j.jsxs)(he,{children:[Object(j.jsx)(fe,{align:"left",children:Object(j.jsx)(o.b,{to:"/vulnerabilities/".concat(e.id),children:e.id})}),Object(j.jsx)(fe,{align:"left",children:e.targetBrowser}),Object(j.jsx)(fe,{align:"left",children:e.timestamp}),Object(j.jsx)(fe,{align:"left",children:e.status})]},e.id)})),l>0&&Object(j.jsx)(he,{style:{height:53*l},children:Object(j.jsx)(fe,{colSpan:6})})]})]}),Object(j.jsx)(ge.a,{rowsPerPageOptions:[10],component:"div",count:t.length,rowsPerPage:10,page:i,onChangePage:function(e,t){return c(t)}})]})},Le=function(){var e=Object(s.b)(),t=w(),n=Object(r.useState)(""),a=Object(l.a)(n,2),i=a[0],c=a[1],o=Object(s.c)((function(e){return e.vulnerabilities})).filter((function(e){return!!e.serverAddress.toLowerCase().includes(i.toLowerCase())||(!!e.targetBrowser.toLowerCase().includes(i.toLowerCase())||(!!e.timestamp.toLowerCase().includes(i.toLowerCase())||!!e.status.toLowerCase().includes(i.toLowerCase())))}));return Object(r.useEffect)((function(){k.getAll().then((function(t){return e(Ae(t))})).catch((function(e){var n=e.response.data.error||"Could not retrieve slave data from server!";t.showErrorMessage(n)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Vulnerabilities"}),Object(j.jsx)(ve.a,{container:!0,spacing:3,justify:"flex-start",children:Object(j.jsx)(ve.a,{item:!0,xs:6,style:{marginTop:15,display:"flex",justifyContent:"flex-start"},children:Object(j.jsx)(H.a,{onChange:function(e){return c(e.target.value)},fullWidth:!0,value:i,placeholder:"filter by keyword"})})}),Object(j.jsx)(Me,{vulnerabilities:o})]})},Ue=n(41),De=n(192),ke=n(208),We=n(216),Pe=n(213),_e=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),Be=function(e){var t=e.vulnerability,n=_e(),a=w(),i=Object(r.useState)(!1),c=Object(l.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)(t.status),d=Object(l.a)(u,2),b=d[0],h=d[1];return Object(j.jsxs)("div",{children:[s&&Object(j.jsx)(Z.a,{align:"center",gutterBottom:!0,variant:"h3",children:"Editing Vulnerability"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=Object(Ue.a)(Object(Ue.a)({},t),{},{status:b});k.update(t.id,n).then((function(){a.showInfoMessage("Vulnerability data succesfully updated!"),o(!1)})).catch((function(e){var t=e.response.data.error||"Could not update user data on server!";a.showErrorMessage(t)}))},className:n.form,children:[Object(j.jsx)(H.a,{label:"Server address",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:t.serverAddress,disabled:!0}),Object(j.jsx)(H.a,{label:"Target browser",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:t.targetBrowser,disabled:!0}),Object(j.jsx)(H.a,{label:"Timestamp",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:t.timestamp,disabled:!0}),Object(j.jsxs)(De.a,{margin:"normal",fullWidth:!0,variant:"outlined",disabled:!s,children:[Object(j.jsx)(We.a,{id:"select-status-label",children:"User Role"}),Object(j.jsxs)(ke.a,{labelId:"select-status-label",id:"select-status",value:b,onChange:function(e){return h(e.target.value)},label:"Status",children:[Object(j.jsx)(Pe.a,{value:"OPEN",children:"OPEN"}),Object(j.jsx)(Pe.a,{value:"ZERODAY",children:"ZERODAY"}),Object(j.jsx)(Pe.a,{value:"CLOSED",children:"CLOSED"})]})]}),s&&Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Save changes"})]}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(j.jsx)(ve.a,{item:!0,className:n.gridItem,xs:!0,children:Object(j.jsx)(K.a,{style:{marginTop:25},onClick:function(){o(!s),h(t.status)},color:"primary",variant:"contained",size:"large",children:!1===s?"Edit information":"Stop editing"})})})]})},Ve=Object(F.a)((function(e){return{root:{flexGrow:1},gridItem:{margin:e.spacing(3,0,2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),qe=function(){var e=Object(u.g)(),t=Ve(),n=Object(s.b)(),a=w(),i=Object(r.useState)(!1),c=Object(l.a)(i,2),o=c[0],d=c[1],b=Object(u.h)().id,h=Object(s.c)((function(e){return e.user})),f=Object(s.c)((function(e){return e.vulnerabilities})),O=f.find((function(e){return e.id===b}));Object(r.useEffect)((function(){k.getById(b).then((function(e){n(function(e){return{type:"INSERT_VULNERABILITY",vulnerability:e}}(e))})).catch((function(e){var t=e.response.data.error||"Could not retrieve vulnerability data from server!";a.showErrorMessage(t)}))}),[]);return void 0===O?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"domzzer / Vulnerabilities / 404 (Vulnerability not found) "})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["domzzer / Vulnerabilities / ",O.id," "]}),Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsx)("div",{className:t.paper,children:Object(j.jsx)(Be,{vulnerability:O})})}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:null!==h&&"LITE"!==h.userRole&&Object(j.jsxs)(ve.a,{item:!0,xs:!0,children:[Object(j.jsx)(K.a,{style:{marginTop:25},color:"secondary",variant:"contained",size:"large",onClick:function(){return d(!0)},children:"Remove from database"}),Object(j.jsx)(Ie,{open:o,handleDialogYesAnswer:function(){d(!1),k.remove(b).then((function(){a.showInfoMessage("Vulnerability data succesfully deleted!");var t=f.filter((function(e){return e.id!==b}));n(Ae(t)),e.push("/vulnerabilities")})).catch((function(e){var t=e.response.data.error||"Could not delete vulnerability data from server!";a.showErrorMessage(t)}))},handleDialogNoAnswer:function(){d(!1)}})]})})]})},Ge=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),Ye=function(){var e=w(),t=Ge(),n=Object(r.useState)(""),a=Object(je.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)("LITE"),o=Object(je.a)(s,2),l=o[0],u=o[1],d=Object(r.useState)(""),b=Object(je.a)(d,2),h=b[0],f=b[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Users / New"}),Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsxs)("div",{className:t.paper,children:[Object(j.jsx)(Z.a,{gutterBottom:!0,variant:"h3",children:"Add New User"}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={username:i,userRole:l,password:h};L.create(n).then((function(){e.showInfoMessage("Succesfully added new user to database!"),c(""),u(""),f("")})).catch((function(t){var n=t.response.data.error||"Could not add new slave to database!";e.showErrorMessage(n)}))},className:t.form,children:[Object(j.jsx)(H.a,{label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return c(e.target.value)},value:i}),Object(j.jsx)(H.a,{label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",onChange:function(e){return f(e.target.value)},value:h}),Object(j.jsxs)(De.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(j.jsx)(We.a,{id:"select-user-role-label",children:"User Role"}),Object(j.jsxs)(ke.a,{labelId:"select-user-role-label",id:"select-user-role",value:l,onChange:function(e){return u(e.target.value)},label:"User Role",children:[Object(j.jsx)(Pe.a,{value:"LITE",children:"LITE"}),Object(j.jsx)(Pe.a,{value:"PRO",children:"PRO"}),Object(j.jsx)(Pe.a,{value:"ADMIN",children:"ADMIN"})]})]}),Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Add"})]})]})})]})},Fe=function(e){return{type:"SET_ALL_USERS",allUsers:e}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_USERS":return t.allUsers;case"RESET_ALL_USERS":return[];case"INSERT_USER":return e.find((function(e){return e.id===t.user.id}))?e:e.concat(t.user);default:return e}},Ze=function(e){var t=e.users,n=Object(r.useState)(0),a=Object(je.a)(n,2),i=a[0],c=a[1],s=10,l=s-Math.min(s,t.length-i*s);return Object(j.jsxs)(ee.a,{style:{marginTop:50},children:[Object(j.jsxs)(te.a,{"aria-label":"simple table",children:[Object(j.jsx)(Oe.a,{children:Object(j.jsxs)(he,{children:[Object(j.jsx)(fe,{children:"Username"}),Object(j.jsx)(fe,{children:"User Role"})]})}),Object(j.jsxs)(ne.a,{children:[t.slice(i*s,i*s+s).map((function(e){return Object(j.jsxs)(he,{children:[Object(j.jsx)(fe,{align:"left",children:Object(j.jsx)(o.b,{to:"/users/".concat(e.id),children:e.username})}),Object(j.jsx)(fe,{align:"left",children:e.userRole})]},e.id)})),l>0&&Object(j.jsx)(he,{style:{height:53*l},children:Object(j.jsx)(fe,{colSpan:6})})]})]}),Object(j.jsx)(ge.a,{rowsPerPageOptions:[10],component:"div",count:t.length,rowsPerPage:10,page:i,onChangePage:function(e,t){return c(t)}})]})},He=function(){var e=Object(s.b)(),t=w(),n=Object(r.useState)(""),a=Object(je.a)(n,2),i=a[0],c=a[1],l=Object(s.c)((function(e){return e.allUsers})).filter((function(e){return!!e.username.toLowerCase().includes(i.toLowerCase())||!!e.userRole.toLowerCase().includes(i.toLowerCase())}));return Object(r.useEffect)((function(){L.getAll().then((function(t){return e(Fe(t))})).catch((function(e){var n=e.response.data.error||"Could not retrieve user data from server!";t.showErrorMessage(n)}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Users"}),Object(j.jsxs)(ve.a,{container:!0,spacing:3,justify:"flex-start",children:[Object(j.jsx)(ve.a,{item:!0,xs:6,style:{marginTop:15,display:"flex",justifyContent:"flex-start"},children:Object(j.jsx)(H.a,{onChange:function(e){return c(e.target.value)},fullWidth:!0,value:i,placeholder:"filter by keyword"})}),Object(j.jsx)(ve.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)(K.a,{color:"primary",variant:"contained",component:o.b,to:"/users/new",children:"add new user"})})]}),Object(j.jsx)(Ze,{users:l})]})},Ke=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),Qe=function(e){var t=e.user,n=Ke(),a=w(),i=Object(r.useState)(!1),c=Object(l.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)(t.username),d=Object(l.a)(u,2),b=d[0],h=d[1],f=Object(r.useState)(""),O=Object(l.a)(f,2),g=O[0],m=O[1],v=Object(r.useState)(t.userRole),p=Object(l.a)(v,2),x=p[0],S=p[1];return Object(j.jsxs)("div",{children:[s&&Object(j.jsx)(Z.a,{align:"center",gutterBottom:!0,variant:"h3",children:"Editing User"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={username:b,password:g,userRole:x};L.update(t.id,n).then((function(e){a.showInfoMessage("User data succesfully updated!"),o(!1),m("")})).catch((function(e){var t=e.response.data.error||"Could not update user data on server!";a.showErrorMessage(t)}))},className:n.form,children:[Object(j.jsx)(H.a,{label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return h(e.target.value)},value:b,disabled:!s}),Object(j.jsx)(H.a,{label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",onChange:function(e){return m(e.target.value)},value:g,disabled:!s}),Object(j.jsxs)(De.a,{margin:"normal",fullWidth:!0,variant:"outlined",disabled:!s,children:[Object(j.jsx)(We.a,{id:"select-user-role-label",children:"User Role"}),Object(j.jsxs)(ke.a,{labelId:"select-user-role-label",id:"select-user-role",value:x,onChange:function(e){return S(e.target.value)},label:"User Role",children:[Object(j.jsx)(Pe.a,{value:"LITE",children:"LITE"}),Object(j.jsx)(Pe.a,{value:"PRO",children:"PRO"}),Object(j.jsx)(Pe.a,{value:"ADMIN",children:"ADMIN"})]})]}),s&&Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Save changes"})]}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(j.jsx)(ve.a,{item:!0,className:n.gridItem,xs:!0,children:Object(j.jsx)(K.a,{style:{marginTop:25},onClick:function(){o(!s),h(t.username),S(t.userRole)},color:"primary",variant:"contained",size:"large",children:!1===s?"Edit information":"Stop editing"})})})]})},Xe=Object(F.a)((function(e){return{root:{flexGrow:1},gridItem:{margin:e.spacing(3,0,2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),$e=function(){var e=Xe(),t=Object(u.g)(),n=Object(s.b)(),a=w(),i=Object(r.useState)(!1),c=Object(l.a)(i,2),o=c[0],d=c[1],b=Object(u.h)().id,h=Object(s.c)((function(e){return e.allUsers})),f=Object(s.c)((function(e){return e.user})),O=h.find((function(e){return e.id===b}));Object(r.useEffect)((function(){L.getById(b).then((function(e){n(function(e){return{type:"INSERT_USER",user:e}}(e))})).catch((function(e){var t=e.response.data.error||"Could not retrieve user data from server!";a.showErrorMessage(t)}))}),[]);return void 0===O?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"domzzer / Users / 404 (User not found) "})}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["domzzer / Users / ",O.username," "]}),Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsx)("div",{className:e.paper,children:Object(j.jsx)(Qe,{user:O})})}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:null!==f&&"ADMIN"===f.userRole&&Object(j.jsxs)(ve.a,{item:!0,xs:!0,children:[Object(j.jsx)(K.a,{style:{marginTop:25},color:"secondary",variant:"contained",size:"large",onClick:function(){return d(!0)},children:"Remove from database"}),Object(j.jsx)(Ie,{open:o,handleDialogYesAnswer:function(){d(!1),L.remove(b).then((function(){a.showInfoMessage("User data succesfully deleted!");var e=h.filter((function(e){return e.id!==b}));n(Fe(e)),t.push("/users")})).catch((function(e){var t=e.response.data.error||"Could not delete user data from server!";a.showErrorMessage(t)}))},handleDialogNoAnswer:function(){d(!1)}})]})})]})},et=function(e){return{type:"SET_SETTINGS",settings:e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SETTINGS":return t.settings;default:return e}},nt=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),rt=function(e){e.slave;var t=nt(),n=w(),a=Object(s.b)(),i=Object(s.c)((function(e){return e.user})),c=Object(s.c)((function(e){return e.settings})),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],b=u[1],h=Object(r.useState)(c.pollInterval||10),f=Object(l.a)(h,2),O=f[0],g=f[1];return Object(j.jsxs)("div",{children:[d&&Object(j.jsx)(Z.a,{align:"center",gutterBottom:!0,variant:"h3",children:"Editing Settings"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={pollInterval:O};_.update(t).then((function(e){n.showInfoMessage("Settings succesfully updated!"),a(et(e)),b(!1)})).catch((function(e){var t=e.response.data.error||"Could not update settings on server!";n.showErrorMessage(t)}))},className:t.form,children:[Object(j.jsxs)(De.a,{margin:"normal",fullWidth:!0,variant:"outlined",disabled:!d,children:[Object(j.jsx)(We.a,{id:"select-intaval-label",children:"Slave polling inteval"}),Object(j.jsxs)(ke.a,{labelId:"select-interval-label",id:"select-interval",value:O,defaultValue:10,onChange:function(e){return g(e.target.value)},label:"Slave polling inteval",children:[Object(j.jsx)(Pe.a,{value:10,children:"10 minutes"}),Object(j.jsx)(Pe.a,{value:20,children:"20 minutes"}),Object(j.jsx)(Pe.a,{value:30,children:"30 minutes"}),Object(j.jsx)(Pe.a,{value:60,children:"1 hour"})]})]}),d&&Object(j.jsx)(K.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Save changes"})]}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(j.jsx)(ve.a,{item:!0,className:t.gridItem,xs:!0,children:"LITE"!==i.userRole&&Object(j.jsx)(K.a,{style:{marginTop:25},onClick:function(){b(!d),g(c.pollInterval||10)},color:"primary",variant:"contained",size:"large",children:!1===d?"Edit information":"Stop editing"})})})]})},at=Object(F.a)((function(e){return{root:{flexGrow:1},gridItem:{margin:e.spacing(3,0,2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),it=function(){var e=Object(s.b)(),t=at(),n=w(),a=Object(s.c)((function(e){return e.user})),i=Object(s.c)((function(e){return e.settings}));Object(r.useEffect)((function(){_.get().then((function(t){e(et(t))})).catch((function(e){var t=e.response.data.error||"Could not retrieve server settings!";n.showErrorMessage(t)}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"domzzer / Settings "}),Object(j.jsx)(J.a,{component:"main",maxWidth:"xs",children:Object(j.jsx)("div",{className:t.paper,children:Object(j.jsx)(rt,{settings:i})})}),Object(j.jsx)(ve.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:null!==a&&"ADMIN"===a.userRole&&Object(j.jsx)(ve.a,{item:!0,xs:!0,children:Object(j.jsx)(K.a,{style:{marginTop:25},color:!0===i.isPolling?"secondary":"primary",variant:"contained",size:"large",onClick:function(){i.isPolling?_.sendStopCommand().then((function(){n.showInfoMessage("Succesfully stopped server from polling slaves!"),e(et(Object(Ue.a)(Object(Ue.a)({},i),{},{isPolling:!1})))})).catch((function(e){var t=e.response.data.error||"Could not stop from polling slaves!";n.showErrorMessage(t)})):_.sendStartCommand().then((function(){n.showInfoMessage("Succesfully started server to poll slaves!"),e(et(Object(Ue.a)(Object(Ue.a)({},i),{},{isPolling:!0})))})).catch((function(e){var t=e.response.data.error||"Could not start server to poll slaves!";n.showErrorMessage(t)}))},children:!0===i.isPolling?"stop polling slaves":"start polling slaves"})})})]})},ct=n(207),st=n(200),ot=n(206),lt=n(214),ut=n(187),dt=n(103),jt=Object(F.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},rightToolbar:{marginLeft:"auto"}}}));var bt=function(){var e=B(),t=Object(u.g)(),n=jt(),a=Object(s.b)(),i=Object(s.c)((function(e){return e.user})),c=Object(r.useState)(null),d=Object(l.a)(c,2),f=d[0],O=d[1],g=function(){O(null)};return Object(r.useEffect)((function(){var t=window.localStorage.getItem("domzzerUser");if(t){var n=JSON.parse(t);a(m(n)),e.updateServicesWithToken(n.token),L.getById(n.id).then((function(){})).catch((function(){a({type:"RESET_USER"}),e.clearServicesFromToken(),window.localStorage.removeItem("domzzerUser")}))}}),[]),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:n.root,children:[Object(j.jsx)(ot.a,{}),Object(j.jsx)(ct.a,{position:"absolute",className:n.appBar,children:Object(j.jsxs)(st.a,{children:[null!==i&&Object(j.jsxs)("div",{children:[Object(j.jsx)(K.a,{color:"inherit",component:o.b,to:"/",children:"home"}),Object(j.jsx)(K.a,{color:"inherit",component:o.b,to:"/slaves",children:"slaves"}),Object(j.jsx)(K.a,{color:"inherit",component:o.b,to:"/vulnerabilities",children:"vulnerabilities"}),"ADMIN"===i.userRole&&Object(j.jsx)(K.a,{color:"inherit",component:o.b,to:"/users",children:"users"}),"ADMIN"===i.userRole&&Object(j.jsx)(K.a,{color:"inherit",component:o.b,to:"/settings",children:"settings"})]}),null!==i&&Object(j.jsxs)("div",{className:n.rightToolbar,children:[Object(j.jsx)(ut.a,{color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){O(e.currentTarget)},children:Object(j.jsx)(lt.a,{children:i.username[0].toUpperCase()})}),Object(j.jsxs)(dt.a,{id:"simple-menu",anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:g,children:[Object(j.jsx)(Pe.a,{onClick:g,component:o.b,to:"/users/".concat(i.id),children:"Profile settings"}),Object(j.jsx)(Pe.a,{onClick:function(){O(null),a({type:"RESET_USER"}),window.localStorage.removeItem("domzzerUser"),t.push("/login")},component:o.b,to:"/login",children:"Logout"})]})]})]})}),Object(j.jsxs)("main",{className:n.content,children:[Object(j.jsx)("div",{className:n.appBarSpacer}),Object(j.jsxs)(J.a,{maxWidth:"lg",className:n.container,children:[Object(j.jsx)(b,{}),Object(j.jsx)(h,{}),Object(j.jsxs)(u.d,{children:[Object(j.jsx)(u.b,{path:"/login",children:null===i?Object(j.jsx)(X,{}):Object(j.jsx)(u.a,{to:"/"})}),Object(j.jsx)(u.b,{path:"/settings",children:null!==i&&"ADMIN"===i.userRole?Object(j.jsx)(it,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/users/new",children:null!==i&&"ADMIN"===i.userRole?Object(j.jsx)(Ye,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/users/:id",children:null!==i?Object(j.jsx)($e,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/users",children:null!==i&&"ADMIN"===i.userRole?Object(j.jsx)(He,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/vulnerabilities/:id",children:null!==i?Object(j.jsx)(qe,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/vulnerabilities",children:null!==i?Object(j.jsx)(Le,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/slaves/new",children:null!==i&&"LITE"!==i.userRole?Object(j.jsx)(le,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/slaves/:id",children:null!==i?Object(j.jsx)(ze,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/slaves",children:null!==i?Object(j.jsx)(pe,{}):Object(j.jsx)(u.a,{to:"/login"})}),Object(j.jsx)(u.b,{path:"/",children:null!==i?Object(j.jsx)(se,{}):Object(j.jsx)(u.a,{to:"/login"})})]})]})]})]})})},ht=Object(c.a)({serverInfo:$,slaves:de,vulnerabilities:Re,infoMsg:y,errorMsg:x,user:v,allUsers:Je,settings:tt}),ft=Object(c.b)(ht);i.a.render(Object(j.jsx)(s.a,{store:ft,children:Object(j.jsx)(o.a,{children:Object(j.jsx)(bt,{})})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.9f8cbd1e.chunk.js.map