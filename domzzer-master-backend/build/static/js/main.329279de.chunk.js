(this["webpackJsonpdomzzer-master-frontend"]=this["webpackJsonpdomzzer-master-frontend"]||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),i=n.n(a),c=n(67),s=n(8),l=n(13),o=n(9),u=n(16),j=n(188),d=n(1),b=function(){var e=Object(s.c)((function(e){return e.infoMsg}));return Object(d.jsx)("div",{children:null!==e&&void 0!==e&&Object(d.jsx)(j.a,{variant:"filled",severity:"success",children:e})})},h=function(){var e=Object(s.c)((function(e){return e.errorMsg}));return Object(d.jsx)("div",{children:null!==e&&void 0!==e&&Object(d.jsx)(j.a,{variant:"filled",severity:"error",children:e})})},f=n(43),O=n.n(f),x=n(56),v=function(e){return{type:"SET_USER",user:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"RESET_USER":return null;default:return e}},g=function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR_MESSAGE":return void 0===t.errorMsg?null:t.errorMsg;default:return e}},S=function(e){return{type:"SET_INFO_MESSAGE",infoMsg:e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INFO_MESSAGE":return void 0===t.infoMsg?null:t.infoMsg;default:return e}},y=function(){var e=Object(s.b)();return{showErrorMessage:function(t){null!==t&&void 0!==t&&(e(g(t)),setTimeout((function(){e(g(null))}),5e3))},showInfoMessage:function(t){null!==t&&void 0!==t&&(e(S(t)),setTimeout((function(){e(S(null))}),5e3))}}},E=n(19),T=n.n(E),I=null,z={getInfo:function(){var e={headers:{Authorization:I}};return T.a.get("/api/info",e).then((function(e){return e.data}))},setToken:function(e){I="bearer ".concat(e)}},C="/api/slaves",N=null,A={getAll:function(){var e={headers:{Authorization:N}};return T.a.get(C,e).then((function(e){return e.data}))},getById:function(e){var t={headers:{Authorization:N}};return T.a.get("".concat(C,"/").concat(e),t).then((function(e){return e.data}))},create:function(e){var t={headers:{Authorization:N}};return T.a.post(C,e,t).then((function(e){return e.data}))},remove:function(e){var t={headers:{Authorization:N}};return T.a.delete("".concat(C,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){N="bearer ".concat(e)}},R="/api/users",L=null,M={getAll:function(){var e={headers:{Authorization:L}};return T.a.get(R,e).then((function(e){return e.data}))},getById:function(e){var t={headers:{Authorization:L}};return T.a.get("".concat(R,"/").concat(e),t).then((function(e){return e.data}))},create:function(e){var t={headers:{Authorization:L}};return T.a.post(R,e,t).then((function(e){return e.data}))},remove:function(e){var t={headers:{Authorization:L}};return T.a.delete("".concat(R,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){L="bearer ".concat(e)}},U="/api/vulnerabilities",k=null,_={getAll:function(){var e={headers:{Authorization:k}};return T.a.get(U,e).then((function(e){return e.data}))},getById:function(e){var t={headers:{Authorization:k}};return T.a.get("".concat(U,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){k="bearer ".concat(e)}},W=function(){var e=function(e){z.setToken(e),A.setToken(e),M.setToken(e),_.setToken(e)};return{updateServicesWithToken:e,clearServicesFromToken:function(){e(null)}}},P={login:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/login",{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},B=n(170),V=n(171),D=n(172),q=n(192),F=n(176),G=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),J=function(){var e=Object(s.b)(),t=Object(u.g)(),n=y(),a=W(),i=G(),c=Object(r.useState)(""),l=Object(o.a)(c,2),j=l[0],b=l[1],h=Object(r.useState)(""),f=Object(o.a)(h,2),m=f[0],g=f[1],p=function(){var r=Object(x.a)(O.a.mark((function r(i){var c;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.preventDefault(),r.prev=1,r.next=4,P.login(j,m);case 4:c=r.sent,window.localStorage.setItem("domzzerUser",JSON.stringify(c)),a.updateServicesWithToken(c.token),e(v(c)),n.showInfoMessage("Welcome to domzzer, ".concat(c.username)),t.push("/"),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),n.showErrorMessage(r.t0.response.data.error);case 15:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(d.jsx)(V.a,{component:"main",maxWidth:"xs",children:Object(d.jsxs)("div",{className:i.paper,children:[Object(d.jsx)(D.a,{gutterBottom:!0,variant:"h3",children:"domzzer login"}),Object(d.jsxs)("form",{onSubmit:p,className:i.form,children:[Object(d.jsx)(q.a,{label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return b(e.target.value)},value:j}),Object(d.jsx)(q.a,{label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",onChange:function(e){return g(e.target.value)},value:m}),Object(d.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Log in"})]})]})})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SERVER_INFO":return t.info;default:return e}},H=n(177),K=n(178),Q=n(179),X=n(180),Z=n(181),$=function(e){var t=e.serverInfo;return void 0===t||void 0===t.serverName?Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Server information not available!"})}):Object(d.jsx)(H.a,{children:Object(d.jsx)(K.a,{"aria-label":"simple table",children:Object(d.jsxs)(Q.a,{children:[Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server name:"}),Object(d.jsx)(Z.a,{align:"left",children:t.serverName})]},"1"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server OS:"}),Object(d.jsx)(Z.a,{align:"left",children:t.serverType})]},"2"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server OS-version:"}),Object(d.jsx)(Z.a,{align:"left",children:t.serverVersion})]},"3"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server memory:"}),Object(d.jsx)(Z.a,{align:"left",children:t.serverMemoryMb})]},"4"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server date:"}),Object(d.jsx)(Z.a,{align:"left",children:t.serverDate})]},"5"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server uptime:"}),Object(d.jsx)(Z.a,{align:"left",children:t.serverUptime})]},"6"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Server controlled slave machines:"}),Object(d.jsx)(Z.a,{align:"left",children:t.numberOfSlaves})]},"7")]})})})},ee=function(e){var t=e.serverInfo;if(void 0===t||void 0===t.serverName)return Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Server information not available!"})});var n=t.numberOfTestsPerformed,r=t.numberOfPotentialVulnerabilities,a=void 0!==n&&0!==n?r/n:0;return Object(d.jsx)(H.a,{children:Object(d.jsx)(K.a,{"aria-label":"simple table",children:Object(d.jsxs)(Q.a,{children:[Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Number of tests performed:"}),Object(d.jsx)(Z.a,{align:"right",children:n})]},"1"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Number of potential vulnerabilities found:"}),Object(d.jsx)(Z.a,{align:"right",children:r})]},"2"),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{align:"left",children:"Potential vulnerabilities to tests ratio:"}),Object(d.jsx)(Z.a,{align:"right",children:a})]},"3")]})})})},te=function(){var e=y(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.serverInfo}));return Object(r.useEffect)((function(){z.getInfo().then((function(e){return t(function(e){return{type:"SET_SERVER_INFO",info:e}}(e))})).catch((function(t){var n=t.response.data.error||"Could not retrieve server information!";e.showErrorMessage(n)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"domzzer / Home"}),Object(d.jsx)("h3",{children:"Master Server Information"}),Object(d.jsx)($,{serverInfo:n}),Object(d.jsx)("br",{}),Object(d.jsx)("h3",{children:"Vulnerability Information"}),Object(d.jsx)(ee,{serverInfo:n})]})},ne=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),re=function(){var e=y(),t=ne(),n=Object(r.useState)(""),a=Object(o.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)(""),l=Object(o.a)(s,2),u=l[0],j=l[1],b=Object(r.useState)(""),h=Object(o.a)(b,2),f=h[0],O=h[1],x=Object(r.useState)(""),v=Object(o.a)(x,2),m=v[0],g=v[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"domzzer / Slaves / New"}),Object(d.jsx)(V.a,{component:"main",maxWidth:"xs",children:Object(d.jsxs)("div",{className:t.paper,children:[Object(d.jsx)(D.a,{gutterBottom:!0,variant:"h3",children:"Add New Slave"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:i,address:u,username:f,password:m};A.create(n).then((function(){e.showInfoMessage("Succesfully added new slave to database!"),c(""),j(""),O(""),g("")})).catch((function(){e.showErrorMessage("Could not add new slave to database!!!")}))},className:t.form,children:[Object(d.jsx)(q.a,{label:"Name",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return c(e.target.value)},value:i}),Object(d.jsx)(q.a,{label:"Address",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return j(e.target.value)},value:u}),Object(d.jsx)(q.a,{label:"Username (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,onChange:function(e){return O(e.target.value)},value:f}),Object(d.jsx)(q.a,{label:"Password (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,type:"password",onChange:function(e){return g(e.target.value)},value:m}),Object(d.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Add"})]})]})})]})},ae=function(e){return{type:"SET_SLAVES",slaves:e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SLAVES":return t.slaves;case"INSERT_SLAVE":return e.find((function(e){return e.id===t.slave.id}))?e:e.concat(t.slave);default:return e}},ce=n(5),se=Object(ce.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(X.a),le=Object(ce.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Z.a),oe=n(182),ue=n(189),je=function(e){var t=e.slaves,n=Object(r.useState)(0),a=Object(o.a)(n,2),i=a[0],c=a[1],s=10,u=s-Math.min(s,t.length-i*s);return Object(d.jsxs)(H.a,{style:{marginTop:50},children:[Object(d.jsxs)(K.a,{"aria-label":"simple table",children:[Object(d.jsx)(oe.a,{children:Object(d.jsxs)(se,{children:[Object(d.jsx)(le,{children:"Server name"}),Object(d.jsx)(le,{children:"Server address"}),Object(d.jsx)(le,{children:"Server status"})]})}),Object(d.jsxs)(Q.a,{children:[t.slice(i*s,i*s+s).map((function(e){return Object(d.jsxs)(se,{children:[Object(d.jsx)(le,{align:"left",children:Object(d.jsx)(l.b,{to:"/slaves/".concat(e.id),children:e.name})}),Object(d.jsx)(le,{align:"left",children:e.address}),Object(d.jsx)(le,{align:"left",children:e.status})]},e.id)})),u>0&&Object(d.jsx)(se,{style:{height:53*u},children:Object(d.jsx)(le,{colSpan:6})})]})]}),Object(d.jsx)(ue.a,{rowsPerPageOptions:[10],component:"div",count:t.length,rowsPerPage:10,page:i,onChangePage:function(e,t){return c(t)}})]})},de=n(184),be=function(){var e=Object(s.b)(),t=y(),n=Object(r.useState)(""),a=Object(o.a)(n,2),i=a[0],c=a[1],u=Object(s.c)((function(e){return e.slaves})),j=Object(s.c)((function(e){return e.user})),b=u.filter((function(e){return!!e.name.toLowerCase().includes(i.toLowerCase())||(!!e.address.toLowerCase().includes(i.toLowerCase())||!!e.status.toLowerCase().includes(i.toLowerCase()))}));return Object(r.useEffect)((function(){A.getAll().then((function(t){return e(ae(t))})).catch((function(e){var n=e.response.data.error||"Could not retrieve slave data from server!";t.showErrorMessage(n)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"domzzer / Slaves"}),Object(d.jsxs)(de.a,{container:!0,spacing:3,justify:"flex-start",children:[Object(d.jsx)(de.a,{item:!0,xs:6,style:{marginTop:15,display:"flex",justifyContent:"flex-start"},children:Object(d.jsx)(q.a,{onChange:function(e){return c(e.target.value)},fullWidth:!0,value:i,placeholder:"filter by keyword"})}),null!==j&&"LITE"!==j.userRole&&Object(d.jsx)(de.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(F.a,{color:"primary",variant:"contained",component:l.b,to:"/slaves/new",children:"add new slave"})})]}),Object(d.jsx)(je,{slaves:b})]})},he=Object(B.a)((function(e){return{root:{flexGrow:1},gridItem:{margin:e.spacing(3,0,2)},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),fe=function(e){var t=e.slave,n=e.classes;return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:n.form,children:[Object(d.jsx)(q.a,{label:"Name",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:t.name,disabled:!0}),Object(d.jsx)(q.a,{label:"Address",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:t.address,disabled:!0}),Object(d.jsx)(q.a,{label:"Username (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,value:t.username,disabled:!0}),Object(d.jsx)(q.a,{label:"Password (optional)",variant:"outlined",margin:"normal",required:!1,fullWidth:!0,type:"password",value:t.password,disabled:!0})]})})},Oe=function(){var e=he(),t=Object(u.g)(),n=Object(s.b)(),a=Object(u.h)().id,i=Object(s.c)((function(e){return e.slaves})),c=Object(s.c)((function(e){return e.user})),l=i.find((function(e){return e.id===a}));Object(r.useEffect)((function(){A.getById(a).then((function(e){n(function(e){return{type:"INSERT_SLAVE",slave:e}}(e))})).catch((function(e){}))}),[]);return void 0===l?Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"domzzer / Slaves / 404 (Slave not found) "})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["domzzer / Slaves / ",l.name," "]}),Object(d.jsx)(V.a,{component:"main",maxWidth:"xs",children:Object(d.jsx)("div",{className:e.paper,children:Object(d.jsx)(fe,{slave:l,classes:e})})}),null!==c&&"LITE"!==c.userRole&&Object(d.jsxs)(de.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(d.jsx)(de.a,{item:!0,className:e.gridItem,xs:!0,children:Object(d.jsx)(F.a,{color:"primary",variant:"contained",size:"large",children:"Edit information"})}),Object(d.jsx)(de.a,{item:!0,xs:!0,children:Object(d.jsx)(F.a,{color:"secondary",variant:"contained",size:"large",onClick:function(){A.remove(a).then((function(){var e=i.filter((function(e){return e.id!==a}));n(ae(e)),t.push("/slaves")})).catch((function(e){}))},children:"Remove from database"})})]})]})},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VULNERABILITIES":return t.vulnerabilities;case"INSERT_VULNERABILITY":return e.find((function(e){return e.id===t.vulnerability.id}))?e:e.concat(t.vulnerability);default:return e}},ve=function(e){var t=e.vulnerabilities,n=Object(r.useState)(0),a=Object(o.a)(n,2),i=a[0],c=a[1],s=10,u=s-Math.min(s,t.length-i*s);return Object(d.jsxs)(H.a,{style:{marginTop:50},children:[Object(d.jsxs)(K.a,{"aria-label":"simple table",children:[Object(d.jsx)(oe.a,{children:Object(d.jsxs)(se,{children:[Object(d.jsx)(le,{children:"ID"}),Object(d.jsx)(le,{children:"Target browser"}),Object(d.jsx)(le,{children:"Timestamp"}),Object(d.jsx)(le,{children:"Status"})]})}),Object(d.jsxs)(Q.a,{children:[t.slice(i*s,i*s+s).map((function(e){return Object(d.jsxs)(se,{children:[Object(d.jsx)(le,{align:"left",children:Object(d.jsx)(l.b,{to:"/vulnerabilities/".concat(e.id),children:e.id})}),Object(d.jsx)(le,{align:"left",children:e.targetBrowser}),Object(d.jsx)(le,{align:"left",children:e.timestamp}),Object(d.jsx)(le,{align:"left",children:e.status})]},e.id)})),u>0&&Object(d.jsx)(se,{style:{height:53*u},children:Object(d.jsx)(le,{colSpan:6})})]})]}),Object(d.jsx)(ue.a,{rowsPerPageOptions:[10],component:"div",count:t.length,rowsPerPage:10,page:i,onChangePage:function(e,t){return c(t)}})]})},me=function(){var e=Object(s.b)(),t=y(),n=Object(r.useState)(""),a=Object(o.a)(n,2),i=a[0],c=a[1],l=Object(s.c)((function(e){return e.vulnerabilities})).filter((function(e){return!!e.serverAddress.toLowerCase().includes(i.toLowerCase())||(!!e.targetBrowser.toLowerCase().includes(i.toLowerCase())||(!!e.timestamp.toLowerCase().includes(i.toLowerCase())||!!e.status.toLowerCase().includes(i.toLowerCase())))}));return Object(r.useEffect)((function(){_.getAll().then((function(t){return e(function(e){return{type:"SET_VULNERABILITIES",vulnerabilities:e}}(t))})).catch((function(e){var n=e.response.data.error||"Could not retrieve slave data from server!";t.showErrorMessage(n)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"domzzer / Vulnerabilities"}),Object(d.jsx)(de.a,{container:!0,spacing:3,justify:"flex-start",children:Object(d.jsx)(de.a,{item:!0,xs:6,style:{marginTop:15,display:"flex",justifyContent:"flex-start"},children:Object(d.jsx)(q.a,{onChange:function(e){return c(e.target.value)},fullWidth:!0,value:i,placeholder:"filter by keyword"})})}),Object(d.jsx)(ve,{vulnerabilities:l})]})},ge=function(){var e=Object(s.b)(),t=Object(u.h)().id,n=Object(s.c)((function(e){return e.vulnerabilities})).find((function(e){return e.id===t}));return Object(r.useEffect)((function(){_.getById(t).then((function(t){e(function(e){return{type:"INSERT_VULNERABILITY",vulnerability:e}}(t))})).catch((function(e){}))}),[]),void 0===n?Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"domzzer - Vulnerabilities - 404 (Vulnerability not found) "})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["domzzer / Vulnerabilities / ",n.id," "]}),Object(d.jsxs)("h3",{children:["server address: ",n.serverAddress]}),Object(d.jsxs)("h3",{children:["target browser: ",n.targetBrowser]}),Object(d.jsxs)("h3",{children:["timestamp: ",n.timestamp]}),Object(d.jsxs)("h3",{children:["status: ",n.status]})]})},pe=n(175),Se=n(187),we=n(193),ye=n(190),Ee=Object(B.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{padding:e.spacing(2),margin:e.spacing(3,0,2)}}})),Te=function(){var e=y(),t=Ee(),n=Object(r.useState)(""),a=Object(o.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)("LITE"),l=Object(o.a)(s,2),u=l[0],j=l[1],b=Object(r.useState)(""),h=Object(o.a)(b,2),f=h[0],O=h[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"domzzer / Users / New"}),Object(d.jsx)(V.a,{component:"main",maxWidth:"xs",children:Object(d.jsxs)("div",{className:t.paper,children:[Object(d.jsx)(D.a,{gutterBottom:!0,variant:"h3",children:"Add New User"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={username:i,userRole:u,password:f};M.create(n).then((function(){e.showInfoMessage("Succesfully added new user to database!"),c(""),j(""),O("")})).catch((function(t){var n=t.response.data.error||"Could not add new slave to database!";e.showErrorMessage(n)}))},className:t.form,children:[Object(d.jsx)(q.a,{label:"Username",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:function(e){return c(e.target.value)},value:i}),Object(d.jsx)(q.a,{label:"Password",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"password",onChange:function(e){return O(e.target.value)},value:f}),Object(d.jsxs)(pe.a,{margin:"normal",fullWidth:!0,variant:"outlined",children:[Object(d.jsx)(we.a,{id:"select-user-role-label",children:"User Role"}),Object(d.jsxs)(Se.a,{labelId:"select-user-role-label",id:"select-user-role",value:u,onChange:function(e){return j(e.target.value)},label:"User Role",children:[Object(d.jsx)(ye.a,{value:"LITE",children:"LITE"}),Object(d.jsx)(ye.a,{value:"PRO",children:"PRO"}),Object(d.jsx)(ye.a,{value:"ADMIN",children:"ADMIN"})]})]}),Object(d.jsx)(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Add"})]})]})})]})},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_USERS":return t.allUsers;case"RESET_ALL_USERS":return[];default:return e}},ze=function(e){var t=e.users,n=Object(r.useState)(0),a=Object(o.a)(n,2),i=a[0],c=a[1],s=10,u=s-Math.min(s,t.length-i*s);return Object(d.jsxs)(H.a,{style:{marginTop:50},children:[Object(d.jsxs)(K.a,{"aria-label":"simple table",children:[Object(d.jsx)(oe.a,{children:Object(d.jsxs)(se,{children:[Object(d.jsx)(le,{children:"Username"}),Object(d.jsx)(le,{children:"User Role"})]})}),Object(d.jsxs)(Q.a,{children:[t.slice(i*s,i*s+s).map((function(e){return Object(d.jsxs)(se,{children:[Object(d.jsx)(le,{align:"left",children:Object(d.jsx)(l.b,{to:"/users/".concat(e.id),children:e.username})}),Object(d.jsx)(le,{align:"left",children:e.userRole})]},e.id)})),u>0&&Object(d.jsx)(se,{style:{height:53*u},children:Object(d.jsx)(le,{colSpan:6})})]})]}),Object(d.jsx)(ue.a,{rowsPerPageOptions:[10],component:"div",count:t.length,rowsPerPage:10,page:i,onChangePage:function(e,t){return c(t)}})]})},Ce=function(){var e=Object(s.b)(),t=y(),n=Object(r.useState)(""),a=Object(o.a)(n,2),i=a[0],c=a[1],u=Object(s.c)((function(e){return e.allUsers})).filter((function(e){return!!e.username.toLowerCase().includes(i.toLowerCase())||!!e.userRole.toLowerCase().includes(i.toLowerCase())}));return Object(r.useEffect)((function(){M.getAll().then((function(t){return e({type:"SET_ALL_USERS",allUsers:t})})).catch((function(e){var n=e.response.data.error||"Could not retrieve user data from server!";t.showErrorMessage(n)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"domzzer / Users"}),Object(d.jsxs)(de.a,{container:!0,spacing:3,justify:"flex-start",children:[Object(d.jsx)(de.a,{item:!0,xs:6,style:{marginTop:15,display:"flex",justifyContent:"flex-start"},children:Object(d.jsx)(q.a,{onChange:function(e){return c(e.target.value)},fullWidth:!0,value:i,placeholder:"filter by keyword"})}),Object(d.jsx)(de.a,{item:!0,xs:6,style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(F.a,{color:"primary",variant:"contained",component:l.b,to:"/users/new",children:"add new user"})})]}),Object(d.jsx)(ze,{users:u})]})},Ne=function(){return Object(d.jsx)("div",{})},Ae=function(){return Object(d.jsx)("div",{})},Re=n(186),Le=n(183),Me=n(185),Ue=n(191),ke=n(169),_e=n(89),We=Object(B.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},rightToolbar:{marginLeft:"auto"}}}));var Pe=function(){var e=W(),t=Object(u.g)(),n=We(),a=Object(s.b)(),i=Object(s.c)((function(e){return e.user})),c=Object(r.useState)(null),j=Object(o.a)(c,2),f=j[0],O=j[1],x=function(){O(null)};return Object(r.useEffect)((function(){var t=window.localStorage.getItem("domzzerUser");if(t){var n=JSON.parse(t);e.updateServicesWithToken(n.token),M.getById(n.id).then((function(){a(v(n))})).catch((function(t){a({type:"RESET_USER"}),e.clearServicesFromToken(),window.localStorage.removeItem("domzzerUser")}))}}),[]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:n.root,children:[Object(d.jsx)(Me.a,{}),Object(d.jsx)(Re.a,{position:"absolute",className:n.appBar,children:Object(d.jsxs)(Le.a,{children:[null!==i&&Object(d.jsxs)("div",{children:[Object(d.jsx)(F.a,{color:"inherit",component:l.b,to:"/",children:"home"}),Object(d.jsx)(F.a,{color:"inherit",component:l.b,to:"/slaves",children:"slaves"}),Object(d.jsx)(F.a,{color:"inherit",component:l.b,to:"/vulnerabilities",children:"vulnerabilities"}),"ADMIN"===i.userRole&&Object(d.jsx)(F.a,{color:"inherit",component:l.b,to:"/users",children:"users"}),"ADMIN"===i.userRole&&Object(d.jsx)(F.a,{color:"inherit",component:l.b,to:"/settings",children:"settings"})]}),null!==i&&Object(d.jsxs)("div",{className:n.rightToolbar,children:[Object(d.jsx)(ke.a,{color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){O(e.currentTarget)},children:Object(d.jsx)(Ue.a,{children:i.username[0].toUpperCase()})}),Object(d.jsxs)(_e.a,{id:"simple-menu",anchorEl:f,keepMounted:!0,open:Boolean(f),onClose:x,children:[Object(d.jsx)(ye.a,{onClick:x,component:l.b,to:"/",children:"Profile settings"}),Object(d.jsx)(ye.a,{onClick:function(){O(null),a({type:"RESET_USER"}),window.localStorage.removeItem("domzzerUser"),t.push("/login")},component:l.b,to:"/login",children:"Logout"})]})]})]})}),Object(d.jsxs)("main",{className:n.content,children:[Object(d.jsx)("div",{className:n.appBarSpacer}),Object(d.jsxs)(V.a,{maxWidth:"lg",className:n.container,children:[Object(d.jsx)(b,{}),Object(d.jsx)(h,{}),Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{path:"/login",children:null===i?Object(d.jsx)(J,{}):Object(d.jsx)(u.a,{to:"/"})}),Object(d.jsx)(u.b,{path:"/settings",children:null!==i&&"ADMIN"===i.userRole?Object(d.jsx)(Ae,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/users/new",children:null!==i&&"ADMIN"===i.userRole?Object(d.jsx)(Te,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/users/:id",children:null!==i?Object(d.jsx)(Ne,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/users",children:null!==i&&"ADMIN"===i.userRole?Object(d.jsx)(Ce,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/vulnerabilities/:id",children:null!==i?Object(d.jsx)(ge,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/vulnerabilities",children:null!==i?Object(d.jsx)(me,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/slaves/new",children:null!==i&&"LITE"!==i.userRole?Object(d.jsx)(re,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/slaves/:id",children:null!==i?Object(d.jsx)(Oe,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/slaves",children:null!==i?Object(d.jsx)(be,{}):Object(d.jsx)(u.a,{to:"/login"})}),Object(d.jsx)(u.b,{path:"/",children:null!==i?Object(d.jsx)(te,{}):Object(d.jsx)(u.a,{to:"/login"})})]})]})]})]})})},Be=Object(c.a)({serverInfo:Y,slaves:ie,vulnerabilities:xe,infoMsg:w,errorMsg:p,user:m,allUsers:Ie}),Ve=Object(c.b)(Be);i.a.render(Object(d.jsx)(s.a,{store:Ve,children:Object(d.jsx)(l.a,{children:Object(d.jsx)(Pe,{})})}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.329279de.chunk.js.map